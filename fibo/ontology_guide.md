# Принципы и лучшие практики FIBO

# Содержание

* [Разработка варианта использования (Use case development)](#use-case-development)
* [Терминологическая Работа (Terminology Work)](#terminology-work)
        * [Информация в Заголовке Онтологии (Ontology Header Information)](#ontology-header-information)
        * [Формат IRI стандарта FIBO](#fibo-standard-iri-format)
        * [Терминология используемая в теле Онтологии](#capturing-terminology-for-the-body-of-an-ontology)
        * [Соглашения о присвоении имен и меток (Naming and Labeling Conventions)](#naming-and-labeling-conventions)
                * [Классы (Classes)](#classes)
                * [Свойства (Properties)](#properties)
                * [Индивидуумы (Individuals)](#individuals)
                * [Общие соглашения о присвоении имен (General naming conventions)](#general-naming-conventions)
        * [Определения (Definitions)](#definitions)
        * [Дополнительные Аннотаци (Additional Annotations)](#additional-annotations)
* [Подход к Концептуальному Моделированию](#conceptual-modeling-approach)
        * [Основополагающие Принципы](#overarching-principles)
        * [Минимальные Гигиенические Тесты на Соответствие](#minimal-compliance-hygiene-tests)
        * [Тесты Кандидатов на Соответствие Качеству](#candidate-tests-for-quality-compliance)




# Разработка варианта использования (Use case development)

* Как правило, и особенно на более конкретных уровнях иерархии, **каждый элемент онтологии (т. е. класс, свойство и определение индивидуума) должен использоваться по крайней мере в одном вопросе компетенции по крайней мере в одном варианте использования.**

* **Модификации любого элемента онтологии также должны быть связаны по крайней мере с одним вопросом компетенции по крайней мере в одном варианте использования.**

* Работа над онтологиями, включая решение проблем, помимо исправления грубых ошибок или периодического пересмотра исхоных данных, должна поддерживаться по крайней мере одним вариантом использования. Это означает, например, что **новые онтологии, включая любые предложения сообщества, не должны быть интегрированы, если они не основаны (или не поддерживаются, в случае концепций более высокого уровня) по крайней мере одним вариантом использования.**



Наш шаблон варианта использования доступен [here](https://www.morganclaypool.com/doi/suppl/10.2200/S00834ED1V01Y201802WBE018/suppl_file/OEUseCaseTemplate.docx).
Шаблон полностью описан в Главе 3 книги **[Ontology Engineering](https://www.morganclaypool.com/doi/abs/10.2200/S00834ED1V01Y201802WBE018)** - Elisa F. Kendall, Thematix Partners LLC, and Deborah L. McGuinness, Rensselaer Polytechnic Institute.

Как минимум, для каждого варианта использования FIBO должны быть заполнены следующие элементы:

1. Описание варианта использования (Use Case Description)

2. Краткое содержание (Summary) - (если вы не используете онтологию в конкретном приложении, вы можете пропустить предварительные условия, постусловия, триггеры и требования к производительности)

3. Сценарии Использования (Usage Scenarios)

4. Диаграммы вариантов использования и диаграммы активности (Use case and activity diagrams) — Необязательные, если только вы не создаете конкретное приложение, хотя иногда мы предоставляем здесь диаграммы контекста(contextual diagrams), соответствующие сценариям использования.

5. Вопросы по компетенциям (Competency Questions)

Вариант использования FIBO также может содержать:

1. Основной и Альтернативный Поток Событий (Basic and Alternate Flow of Events)

2. Ресурсы (Resources), Ссылки (References) и Примечания (Notes) – они необязательны, но в большинстве случаев у нас есть ссылка на какой-либо источник примеров данных или ссылки на источники, которые полезны для разработки онтологий.

Существует ряд вариантов использования в стадии разработки и/или готовности. К ним относятся:

* Предложение Данных по Инструментам Фондовой Биржи (Securities Exchange Instrument Data Offering)
* Индексный Анализ для разработки ETF (Index Analysis for ETF Development)
* Единый стандарт Регуляторной Отчетности по Производным Финансовым Инструментам (Unified Standard for Regulatory Reporting of Derivatives)

которые могут предоставить полезную информацию для тех, кто разрабатывает новые варианты использования и следует рекомендациям, перечисленным выше.

# Терминологическая Работа (Terminology Work)

FIBO в целом следует рекомендация, приведенным в

* **[ ISO 704: Terminology work — Principles and methods for terminology development](https://www.iso.org/standard/38109.html)**, 
* **[ISO 1087: Terminology work and terminology science — Vocabulary](https://www.iso.org/standard/62330.html)**.  

Это означает, что **для каждого элемента онтологии необходимы минимальные метаданные:**

* метка (label)
* определение (definition)
* пояснительные (explanatory) и другие примечания (notes), когда это необходимо.

**Определения должны следовать рекомендациям ISO 704** для создания четких определений.

Многие учреждения и правительственные организации используют FIBO в качестве справочного материала для разработки корпоративных глоссариев, интероперабельности, обработки естественного языка, машинного обучения и других приложений, которые нуждаются как в математике и логике, включенной в онтологию, так и в терминологии, которая необходима для работы с корпоративным глоссарием и приложениями для обработки естественного языка.

Мы рекомендуем и используем ISO 704 для FIBO в первую очередь потому, что принципы, которые определяет этот документ, помогают обеспечить согласованность и качество наших определений. Обратите внимание, что существует [версия ISO 704, доступная в Интернете](http://semanticweb.kaist.ac.kr/org/tc37/pdocument/standards/ISO%20704.pdf). Несмотря на то, что это пересмотренная версия стандарта, которая позднее была заменена, принципы формирования определений остаются в значительной степени неизменными в новых редакциях.

## Информация в Заголовке Онтологии (Ontology Header Information)
Онтологии FIBO используются для множества различных приложений и выражаются в терминах стандартов W3C Resource Description Framework (RDF), RDF Schema и Web Ontology Language (OWL 2). Есть модульная структура для обеспечения повторного использования, и мы используем стандарт RDF/XML для сериализации и хранения в Github. Эта сериализация реализована нашим [сериализатором](#fibo-serialization-tools) для обеспечения согласованности.

Заголовок (\<owl:Ontology rdf:about="...">... \</owl:Ontology>) каждой онтологии должен включать определенную информацию, которая поддерживает стандартизацию и документирование для FIBO.

Мы повторно используем ряд онтологий при разработке терминологии, включенной в заголовок, а также в тело каждой онтологии, которую мы публикуем, в их числе:

* Подмножество свойств (properties), определенных в [Dublin Core Metadata Terms](https://www.dublincore.org/specifications/dublin-core/dcmi-terms/)
* Свойства-аннотации (annotation properties), но не классы, определенные в W3C [Simple Knowledge Organization System (SKOS)](https://www.w3.org/2004/02/skos/)
* Аннотации метаданных (metadata annotations), определённые в [OMG's Commons Ontology Library annotations ontology](https://www.omg.org/spec/Commons/AnnotationVocabulary.rdf)

а также некоторые аннотации, которые мы определили в [FIBO's Annotation Vocabulary](https://spec.edmcouncil.org/fibo/ontology/FND/Utilities/AnnotationVocabulary/).

Каждая опубликованная **онтология FIBO**, независимо от уровня ее зрелости, должна включать следующие подробности:

1. **Объявления сущностей DOCTYPE (DOCTYPE Entity declarations)** для каждого используемого пространства имен — они предназначены для использования в сокращенных IRI в сериализации XML для улучшения читаемости, включая префиксы пространств имен, которые соответствуют формату префиксов стандарта FIBO 
1. **Объявления пространств имен (Namespace declarations)** в RDF для каждого пространства имен, используемого непосредственно в онтологии (и никаких дополнительных объявлений для онтологий, которые не импортируются напрямую)
1. **IRI онтологии (ontology IRI)**, следующий [формату IRI стандарта FIBO](#fibo-standard-iri-format)
1. **Метку (label)** (на английском, которая является именем присвоенным онтологии)
1. **Краткий обзор (abstract)** - краткое описание онтологии
1. **Лицензию (license)** - мы используем [лицензию MIT с открытым исходным кодом](LICENSE) для всех онтологий FIBO
1. Указание **OWL в качестве content language** путем задания ссылки на сайт W3C
1. **Заявление об авторских правах (сopyright statement)**, которое всегда включает в себя Council EDM copyright и, для опубликованных онтологий, которые включаются в объединенный стандарт EDM Council / OMG - OMG copyright
1. Указание на **зависимости от других онтологий, которые имеет данная онтология** - ссылка на другие связанные домены/модули, а в пределах соответствующего домена - ссылки на онтологии уровня домена
1. **Аббревиатуру и имя файла (abbreviation and file name)** для файла RDF/XML онтологии с индивидуумами
1. Все необходимые **imports statements**
1. **version IRI**, соответствующая [версии стандарта FIBO структура IRI](#fibo-standard-iri-format)
1. **Список изменений (change notes)**, относящихся к любым включенным изменениям с указанием версии, в которую было внесено это изменение.
1. **Уровень зрелости (maturity level)** самой онтологии

Примеры указанного выше можно найти в каждой опубликованной онтологии FIBO, уровень зрелости которой "release".

Обратите внимание, что бывают случаи, когда такие инструменты, как Protege

1. удаляют объявления сущностей DOCTYPE,
2. устраняют(раскрывают) сокращенния IRI, а также
3. иногда добавляют IRI по умолчанию в онтологию.

Считается, что эти проблемы являются препятствием для публикации с точки зрения FIBO и должны быть устранены до операции check in каких-либо изменений онтологии. Другими словами, объявления DOCTYPE ENTITY являются обязательными, использование сокращенных IRI и QNames необходимы для удобства чтения и ни в одной онтологии FIBO не должно быть IRI по умолчанию.


## формат IRI стандарта FIBO

Для FIBO базовый шаблон для IRI неверсионнируемых ресурсов выглядит следующим образом:

```
https://spec.edmcouncil.org/fibo/ontology/<domain abbreviation>/<module>/.../<module>/<ontology name>/<resource name>
```
Например:

```
https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LegalPersons/LegalEntity
```

Обратите внимание, что стратегия, определенная здесь, отражает то, что мы делаем в версиях GitHub с «золотым исходным кодом» наших онтологий, а не в IRI, сгенерированных в процессе публикации.

Встроенные versionIRIs, которые мы пересматриваем при каждом согласованном изменении любой онтологии, используют следующий шаблон:

```
https://spec.edmcouncil.org/fibo/ontology/<domain abbreviation>/YYYYMMDD/<module>/.../<module>/<ontology name>/
```

и должны сопровождаться кратким примечанием об изменениях (change note), указывающим, что изменилось по сравнению с предыдущей версией этой онтологии.

Префиксы пространств имен для FIBO следуют шаблону:

```
fibo-<domain abbreviation>-<module abbreviation>-...-<module abbreviation>-<ontology abbreviation>
```
где все элементы между тире являются буквами в нижнем регистре.

## Терминологии тела онтологии
Несмотря на то, что некоторые онтологи утверждают, что именование в онтологии не только неуместно, но и может быть сложным из-за количества и характера перекрывающихся терминов, перегруженных терминов и других проблем, с которыми сталкиваются многие отрасли, **основная цель FIBO заключается в том, чтобы помочь в стандартизации и устранении неоднозначности терминологии, используемой в финансовой сфере**, и особенно для использования в договорах.

Это означает, что **терминология так же важна, как лежащая в ее основе логика и математика** как продукт, который может быть использован в отрасли, и **слова действительно имеют значение**. Тем не менее, может быть очень трудно гарантировать, что используемая терминология приемлема для всех наших заинтересованных сторон FIBO, поэтому мы приветствуем и нуждаемся в участии профильных экспертов, чтобы гарантировать, что у нас есть полный и надлежащий охват терминов, используемых в данной подобласти финансов. Многие учебные заведения обнаружили, что члены их команды иногда «небрежны» с языком, который они используют. В культурном плане, особенно в небольших подгруппах, используемый язык может развиваться в зависимости от внутреннего жаргона, жаргона, используемого в приложениях, необходимых команде для выполнения своей работы, и других факторов. Цель состоит в том, чтобы сделать все возможное, чтобы использовать язык, с которым согласны бизнес-аналитики в соответствующих областях, и мы пытаемся заставить несколько SME из разных учреждений согласиться ограничить влияние какой-либо конкретной организации или группы людей, использующих конкретный инструмент или приложение только для выполнения своей работы.

Мы сопоставляем терминологию с государственными глоссариями, глоссариями стандартов и другими источниками в максимально возможной степени, чтобы гарантировать, что полученная терминология является репрезентативной. Если эти источники взяты из государственных справочников или стандартов, таких как стандарты ISO, мы включаем ссылку на источник везде, где это возможно.

[Здесь](https://www.morganclaypool.com/doi/suppl/10.2200/S00834ED1V01Y201802WBE018/suppl_file/OETerminologyTemplate.xlsx) можно найти общий шаблон для формализации терминологии и связанных с ней аннотаций, который подробно описан в главе 4 книги Ontology Engineering, упомянутой выше.

## Соглашения об именовании и присвоении меток (Naming and Labeling Conventions)

**Соглашения об именовании** относятся к политикам FIBO, которые касаются имен ресурсов FIBO, являющихся частями их идентификаторов (URI):

FIBO\_ONTOLOGY\_NAMESPACE/**RESOURCE\_NAME**

Например: **LegalEntity** является **RESOURCE\_NAME** в

https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LegalPersons/LegalEntity

**Соглашения о присвоении меток** — это политики FIBO, которые определяют, какие аннотации должны и могут использоваться для описания ресурсов FIBO.


#### Общие соглашения об именовании и присвоении меток
* **FIBO применяет как уникальные метки, так и соглашения об уникальных именах**, даже в разных пространствах имен. В предварительных и информативных онтологиях есть содержимое, которое не соответствует этим политикам, но для любой опубликованной онтологии требуется уникальное именование и уникальные метки.
* **В названиях не должно быть специальных символов и аббревиатур**. Есть редкие примеры, когда мы отклоняемся от этой политики, например, для списков кодов, которые создаются автоматически, но во всех иных случаях аббревиатуры не должны использоваться, несмотря на то, что в некоторых случаях это приводит к длинным именам.
* **Каждый класс (class), свойство (property) и индивидуум (individual) должны иметь метку (label)** и, как минимум, **дополнительные аннотации (additional annotations)**, как описано ниже. **Это должно быть название этой сущности на естественном языке (Американский Английский), разделенное пробелами, включая языковой тег для Английского Языка**.
* **Метки (labels) должны быть выражены строчными буквами, с правильным интервалом, как если бы они были написаны в виде текста**. Единственное исключение из правил нижнего регистра в метках касается **имен собственных, которые могут быть написаны с заглавной буквы**.
* Там где присутствуют эквиваленты на альтернативных языках **могут использоваться дополнительные метки с языковыми тегами**. Например, некоторые из наших канадских подразделений включают французские метки, и в этом случае соответствующие диакритические знаки, выраженные в формате UTF-8, должны быть включены в метку (но не в имя написанное в camel case).
* **Ресурсы FIBO не должны дублироваться.** То есть:
        * наличие класса с именем "Lifecycle" в двух разных онтологиях, независимо от предметной области или модуля FIBO, строго запрещено. Бывали случаи, когда класс, введенный на каком-то уровне предметной области, требовался в другой предметной области, и, таким образом, класс поднимался на более высокий, общий уровень в архитектуре онтологии - в этих случаях класс более низкого уровня должен быть объявлен устаревшим (deprecated).
        * категорически запрещено иметь свойство с именем "hasJurisdiction" в двух разных онтологиях, независимо от домена или модуля. Бывали случаи, когда устаревшее именование или перемещение свойств из домена более низкого уровня в домен верхнего уровня приводило к временному дублированию — в этих случаях свойство более низкого уровня должно быть объявлено устаревшим (deprecated). Свойства в OWL могут быть указаны таким образом, чтобы их можно было повторно использовать в ограничениях свойств и других аксиомах для многих классов, что ограничивает, если не устраняет, необходимость дублирования имен. Если свойство требуется на более высоком уровне в онтологической сети или в другом или менее ограниченном домене, чем тот, который использовался в его первоначальном определении, следует зарегистрировать проблему (issue).


#### Классы
* Имена классов (части URI) должны быть выражены в **upper camel case**.
* Имена классов должны быть в **единственном числе (singular)**.

#### Свойства
* Имена свойств (части URI), как свойства объектов, так и свойства данных, должны быть выражены в **lower camel case**.
* **В наименованиях свойств должны использоваться глаголы** для всех свойств объектов и данных, без включения имени домена или диапазона имен классов, за некоторыми исключениями для свойств вида "has x", в целях удобочитаемости.

#### Индивидуумы (Individuals)

* Имена индивидуумов (части URI) должны быть выражены в **upper camel case**.
* ISO 704 поощряет использование нижнего регистра для индивидуумов, если они не включают имена собственные, чему мы в значительной степени следовали в FIBO для меток (labels), но не на уровне URI.

#### Аббревиатуры и дополнительные метки
* Словарь Аннотаций OMG (OMG's Annotation Vocabulary) определяет ряд свойств-наследников (subproperties) от skos:altLabel:

        - [cmns-av:abbreviation](https://www.omg.org/spec/Commons/AnnotationVocabulary/abbreviation) - краткое обозначение сущности, которое может быть заменено на ее основное представление
        - [fibo-fnd-utl-av:commonDesignation](https://spec.edmcouncil.org/fibo/ontology/FND/Utilities/AnnotationVocabulary/commonDesignation) - часто используемое обозначение сущности
        - [fibo-fnd-utl-av:preferredDesignation](https://spec.edmcouncil.org/fibo/ontology/FND/Utilities/AnnotationVocabulary/preferredDesignation) - рекомендуемое обозначение сущности в некотором контексте
        - [cmns-av:synonym](https://www.omg.org/spec/Commons/AnnotationVocabulary/synonym) - обозначение, которое может быть заменено на первичное представление чего-либо
* **Аббревиатуры должны быть включены в качестве аннотаций** с использованием  [cmns-av:abbreviation](https://www.omg.org/spec/Commons/AnnotationVocabulary/abbreviation) для класса, где это уместно. Аббревиатуры должны быть записаны в верхнем регистре, без пробелов, со специальными символами только в тех случаях, когда аббревиатура обычно используется со встроенным дефисом к примеру.
Не используйте [skos:altLabel](https://spec.edmcouncil.org/fibo/ontology?query=http%3A%2F%2Fwww.w3.org%2F2004%2F02%2Fskos%2Fcore%23altLabel), используйте [cmns-av:synonym](https://www.omg.org/spec/Commons/AnnotationVocabulary/synonym) или [cmns-av:abbreviation](https://www.omg.org/spec/Commons/AnnotationVocabulary/abbreviation).


## Определения
* Каждый класс (class), свойство(property) и индивидуум(individual) должны иметь [skos:definition](https://spec.edmcouncil.org/fibo/ontology?query=http%3A%2F%2Fwww.w3.org%2F2004%2F02%2Fskos%2Fcore%23definition).
* Определения должны соответствовать стандарту ISO 704, означающее следующее; Они должны быть **выражены в виде частичных предложений, которые могут быть использованы для замены термина в предложении**.
* Любые дополнительные пояснения, пояснительные примечания (scope notes, explanatory notes) или другие комментарии по использованию данного понятия должны быть включены в другие аннотации.
* **Определения не должны быть циклическими**, т.е. класс, свойство или  имя индивидуума не должны использоваться в самом определении.

Несмотря на то, что в FIBO есть случаи, которые в настоящее время не соответствуют конвенциям ISO 704, мы работаем над тем, чтобы со временем исправить это.

Дополнительные требования к разработке определений и вспомогательных аннотаций включают:

* **Каждый элемент первого порядка (класс, свойство и определенный индивидуум) должен иметь определение, выраженное с помощью свойства-аннотации skos:definition, а не rdfs:comment.**
* ISO 704 предлагает **структуру "род/дифференциация" ("genus / differentia") для определений, что означает рекомендацию идентифицировать одно или несколько предковых понятий (ancestral concepts), а также отношения и характеристики, которые отличают рассматриваемое понятие от родственных понятий(sibling concepts).**
        *  Пример, [legal entity (юридическое лицо)](https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LegalPersons/LegalEntity) – это
                * (GENUS/РОД) [legal person (юридическое лицо)](https://spec.edmcouncil.org/fibo/ontology/BE/LegalEntities/LegalPersons/LegalPerson) 
                * (DIFFERENTIA SPECIFICA), которое является партнерством, корпорацией или другой организацией, имеющей возможность вести переговоры по контрактам, брать на себя финансовые обязательства и погашать долги, при этом организованна в соответствии с законодательством какой-либо юрисдикции
        *  Пример, [долговой инструмент (debt instrument)](https://spec.edmcouncil.org/fibo/ontology/FBC/FinancialInstruments/FinancialInstruments/DebtInstrument) это
                * (GENUS) [финансовый инструмент (financial instrument)](https://spec.edmcouncil.org/fibo/ontology/FBC/FinancialInstruments/FinancialInstruments/FinancialInstrument)
                * (DIFFERENTIA SPECIFICA), который позволяет стороне-эмитенту привлекать средства, принимая на себя обязательство погасить задолженность кредитора к определенному сроку в соответствии с условиями договора
        * Для классов (существительных) большинство определений **должны быть сформулированы  <parent class> который...**, называя родителя (родителей) и включая текст, который связывает этот класс с другими через отношения (object properties) и характеристики (attributes / data properties).
        * Для свойств большинство определений должны быть сформулированы **"<parent relationship> которое …"** — в той же форме, что и определения классов, и все определения свойств должны начинаться с глагола.
* Определения не должны включать контент, который моделируется или может быть смоделирован с помощью ограничений (restrictions), за исключением случаев, когда они по своей сути необходимы для определения понятия (concept). Поскольку мы генерируем определение для глоссария из онтологической модели, эта информация является избыточной.
* Определения в идеале должны быть взяты из санкционированных источников, таких как правительственные глоссарии, стандарты ISO и т. д., и такие источники должны быть **указаны в аннотациях, описывающих источник (cmns-av:adaptedFrom, fibo-fnd-utl-av:definitionOrigin)**.
* Как и метки(labels), **определения должны быть четко выражены на английском языке. Для любой сущности должно быть только одно skos:definition, и это должно быть представление этой сущности на естественном языке (американский английский), включая языковой тег для английского языка**.
* При наличии эквивалентов на альтернативных языках могут быть включены дополнительные элементы skos:definition, помеченные тегом языка. **Дополнительная информация, такая как примеры (examples), сведения о границах (scope details), пояснения (explanations) и т. д., должна быть собрана с помощью соответствующей аннотации из SKOS, Dublin Core, Commons Ontology Library Annotation Vocabular или FIBO Annotation Vocabulary**.
* **Индивидуумы справочных данных (reference data individuals) могут использовать rdfs:comment, но любой определенный индивидуум (defining individual) должен использовать skos:definition в качестве свойства аннотации, связывающего этот индивидуум с его определением.**


## Дополнительные примечания
Ряд других аннотаций полезен для объяснения классов и свойств в нашей онтологии. Мы используем [Dublin Core Metadata Terms](https://www.dublincore.org/specifications/dublin-core/dcmi-terms/), [Simple Knowledge Organization System (SKOS) annotations](https://www.w3.org/TR/2009/REC-skos-reference-20090818/), [Object Management Group (OMG) Commons Ontology Library Annotation Vocabulary](https://www.omg.org/spec/Commons/AnnotationVocabulary/) и дополнительных аннотаций, которые мы определили в [FIBO Annotation Vocabulary](https://spec.edmcouncil.org/fibo/ontology/FND/Utilities/AnnotationVocabulary/).

Некоторые из наиболее распространенных аннотаций, которые мы используем, в дополнение к аннотациям в заголовке онтологии, включают:

* [cmns-av:adaptedFrom](https://www.omg.org/spec/Commons/AnnotationVocabulary/adaptedFrom) - для ссылки или описания источника, который был использован в качестве входных данных для разработки определения, отношений, логических аксиом или другой информации об элементе (классе, свойстве, индивидууме) из FIBO Annotation Vocabulary
* [cmns-av:explanatoryNote](https://www.omg.org/spec/Commons/AnnotationVocabulary/explanatoryNote) – для расширения определения информацией, относящейся к природе элемента; из FIBO annotation vocabulary
* usageNote - для предоставления дополнительных сведений о том, как элемент должен применяться или использоваться; из FIBO annotation vocabulary
* [skos:example](https://spec.edmcouncil.org/fibo/ontology?query=http%3A%2F%2Fwww.w3.org%2F2004%2F02%2Fskos%2Fcore%23example) - для перечисления соответствующих примеров; из SKOS
* [cmns-qtu:describesActualExpression](https://www.omg.org/spec/Commons/QuantitiesAndUnits/describesActualExpression) - для предоставления формулы, которая будет применяться в правиле с использованием соответствующих элементов, определенных в онтологии; из онтологии FIBO Analytics в FND Utilities

Есть и другие, но именно эти мы используем чаще всего и они должны быть полезны разработчикам FIBO.


# Подход к концептуальному моделированию
## Общие принципы
FIBO разработан как семейство онтологий, совместимых с W3C OWL 2 DL.

1. Прежде всего, **наши онтологии, включая все справочные данные и примеры, которые имеют уровень зрелости 'Release', должны быть доказуемо логически согласованы с использованием нескольких совместимых с OWL 2 резонеров (OWL 2 compliant reasoners)**. Мы сделали этот выбор на раннем этапе процесса разработки, когда перешли от оригинальных электронных таблиц и UML-контента, разработанного Советом по EDM, к более формальным и стандартизируемым онтологиям OWL, и сохранили это обязательство перед нашим сообществом пользователей на минимальном уровне качества. Любой вклад пользователя в FIBO должен оставаться доказуемо логически согласованным до официального включения.

2. Мы также **стремимся к повторному использованию и понятности, и, насколько это возможно, мы поддерживаем уникальное именование (снабжение метками) элементов онтологии**, даже если язык OWL этого не требует. Это означает, что мы пытаемся определить свойства на самом высоком уровне в иерархии свойств, где они могут быть применимы, и ограничиваем использование ограничений домена и диапазонов (domain and range restrictions). Этот подход отличается от обычных методов моделирования данных и может быть более сложным для понимания разработчиками из сообщества моделирования данных на первых порах, но он необходим для ограничения распространения свойств с ограниченной полезностью и ужасно длинными именами, которые часто включают свой домен и/или диапазон, чтобы поддерживать подход уникальных имен. **Преимущества этого подхода заключаются в том, что он позволяет ризонерам (reasoners), обработчикам правил (rule engines) и механизмам запросов (query engines) делать больше выводов (inferences), а также облегчает использование наших онтологий в корпоративных глоссариях и приложениях для обработки естественного языка (NLP)**. В дополнение к основной метке(label) и определению(definition), во многих случаях **требуются дополнительные свойства-аннотации для улучшения понимания и удобства использования** с точки зрения пользователя. Там, где это возможно, мы должны, например, указывать источники, используемые для наших определений (например, adaptedFrom, definitionOrigin или dct:source). У нас относительно недавно появилась политика по минимизации количества определений, которые мы получаем из материалов, защищенных авторским правом, чтобы строго придерживаться политики добросовестного использования, но мы должны цитировать определения из источников ISO, из других стандартов, из правительственных глоссариев в максимально возможной степени. Пояснительные примечания (explanatory notes) и примеры (examples) очень полезны для пользователей FIBO, и мы должны стремиться добавлять их больше, когда это возможно, чтобы повысить удобство использования.

3. **FIBO является полииерархичным (polyhierarchical) и предназначен для поддержки как множественного наследования (multiple inheritance), так и множественной классификации (multiple classification)**. Наш первоначальный вариант использования (use case) включал в себя классификацию сложных финансовых инструментов, которые по своей природе могут быть описаны по-разному. Ранним примером, который мы использовали в ряде демонстраций, был инструмент [Процентного Свопа (Interest Rate Swap)](https://spec.edmcouncil.org/fibo/ontology/DER/RateDerivatives/IRSwaps/InterestRateSwap). FIBO позволяет классифицировать каждую часть свопа по типу процентной ставки – фиксированной или плавающей, по валюте и ряду других признаков в договоре. Несмотря на то, что первоначальный контент FIBO был более плоским из-за его ранних версий, созданных в электронных таблицах и подхода с использованием UML, основанном на моделировании данных, мы плавно переходили к полииерархическому стилю моделирования с меньшим, но более повторно используемым количеством классов и свойств. Пользователи обнаружат, что наши выпущенные онтологии гораздо более лаконичны и компактны, чем предварительный и информативный контент, который мы продолжаем обновлять на основе нашего нового семейства вариантов использования (use cases).

4. **FIBO предназначен для сопоставления и повторного использования с другими связанными данными (linked data) и онтологиями. Тем не менее, поскольку это также и международный стандарт, мы не будем импортировать или повторно использовать какую-либо внешнюю онтологию, которая сама по себе не является стандартом и/или не является логически непротиворечивой.**
        * Многие спрашивают, почему мы не используем **онтологию OWL Time от W3C**, и почему мы не используем онтологию PROV-O для подтверждения происхождения. OWL Time не является логически согласованным из-за использования типов данных, не санкционированных OWL. Онтология PROV-O использует каламбуры (punning), и многие из ее свойств не могут быть использованы повторно. Несмотря на то, что мы поднимали данные вопросы с W3C, их разработчики не стали приоритезировать эти проблемы выше других потребностей своих сообществ.
        * Нас также часто спрашивают об использовании словаря Friend of a Friend (FOAF), по крайней мере, для документации, если не для чего-то еще. Сам FOAF поддерживался на протяжении многих лет, но он ссылается на онтологии, которые не поддерживаются, и ссылки на которые приводят к ошибкам 404. Как следствие, мы определили, что он не соответствует стандартам качества, которые мы установили для себя и которые, по нашему мнению, необходимы для международного стандарта, которому может доверять финансовая индустрия, включая регуляторов и крупные учреждения.
        * Мы не интегрировали FIBO ни с одной из существующих «высших» онтологий и все больше ограничиваем количество философски обоснованных понятий (philosophically-grounded concepts) на наших высших уровнях. Существует ряд высших онтологий, которым отдают предпочтение различные сообщества, в том числе сообщество BFO/OBO, сообщество DOLCE и другие. До недавнего времени только онтология PSL (Process Specification Language) была стандартом ISO, хотя BFO только недавно получил этот статус, и другие находятся в процессе. Наши размышления об этом были следующие: мы не хотим чрезмерно усложнять терминологию, особенно на верхних уровнях, и есть много способов, с помощью которых новые пользователи могут «выстрелить себе в ногу», пытаясь повторно использовать такие онтологии. С другой стороны, лидеры команды FIBO успешно сопоставили части FIBO с BFO и другими, включая, помимо прочего, реализацию PSL OWL для конкретных клиентов, которые запросили эту интеграцию, и продолжают время от времени использовать онтологии верхнего уровня при тестировании проблем логической согласованности в FIBO.
        * Пользователи FIBO могут заметить, что мы часто используем ограничения мощности "min 0" ("min 0" cardinality restrictions). Цель здесь состоит в том, чтобы определить свойства, которые обычно имеют значение для данного понятия, хотя бывают ситуации, в которых они могут быть неопределены. Это сводит к минимуму накладные расходы и количество ошибок рассуждений (reasoning errors), которые могут возникнуть при сопоставлениях на стороне сервера или при сопоставлении со справочными данными(reference data), при этом выявляет для пользователей то, что они могли бы ожидать увидеть как ограничение на это понятие.


## Минимальные Гигиенические Тесты на Соответствие
Поскольку мы считаем, что важно обеспечить хотя бы какой-то минимальный уровень качества в онтологиях, которые мы публикуем для FIBO, мы реализовали ряд тестов, которые автоматически запускаются когда происходит обновление в Github. К ним относятся:

1. **Отсутствие нетипизированных ссылок (No Untyped references)** — любая ссылка на URI в любом контексте, кроме как на объект свойства-аннотации, должна иметь тип triple для этого URI. См.:
- [testHygiene_triples_untyped_subject.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_triples_untyped_object.sparql)
- [testHygiene_triples_untyped_property.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_triples_untyped_object.sparql)
- [testHygiene_triples_untyped_object.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_triples_untyped_object.sparql)
2. **Пересечение доменов / диапазонов (Crossing domains / ranges)** - Если одно свойство является подклассом другого, то домены (соответственно диапазоны) не должны быть подклассами (subclasses) в противоположном направлении. См:
- [testHygiene_properties_subproperty_domain.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_subproperty_domain.sparql)
- [testHygiene_properties_subproperty_range.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_subproperty_range.sparql)
3. **Метки и определения (Labels and Definitions)** - Каждый класс и свойство, определенные в FIBO, должны иметь rdfs:label и skos:definition. См.:
- [testHygiene_annotations_label.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_annotations_label.sparql)
- [testHygiene_annotations_definition.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_annotations_definition.sparql)
4. **Метаданные Онтологии (Ontology Metadata)** - Каждая Онтология, определенная в FIBO, должна иметь rdfs:label, sm:copyright, dct:license, dct:abstract. См.:
- [testHygiene_ontologies_label.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_ontologies_label.sparql)
- [testHygiene_ontologies_copyright.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_ontologies_copyright.sparql)
- [testHygiene_ontologies_license.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_ontologies_license.sparql)
- [testHygiene_ontologies_abstract.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_ontologies_abstract.sparql)
5. **Импорты онтологий (Ontology imports)** - Ни одна онтология не может импортировать саму себя. См.: [testHygiene_ontologies_import_non-circular.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_ontologies_import_non-circular.sparql)
6. **Специальные символы (Special Characters)** - Набор символов, разрешенных в литералах, ограничен буквенно-цифровыми символами, знаками препинания и диакритическими знаками, используемыми в языках, используемых FIBO. См.: [testHygiene_literals_bad_chars.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_literals_bad_chars.sparql)
7. **Уникальные метки (Unique Labels)** - Ни одна метка не может именовать более одного owl:Class или rdf:Property. См.: [testHygiene_labels_unique.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_labels_unique.sparql)
8.  **Циклические определения (Circular Definitions)** - Ни одно определение FIBO не должно быть циклическим, т.е. определение не может содержать метку (включая синонимы) определяемого ресурса. См.: [testHygiene_definitions_non-cricular.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_definitions_non-cricular.sparql)
9. **Инверсии Объектных Свойств (Object Property Inverses)** - Ни одно свойство не может иметь более одного инверсного свойства, так как это, помимо прочего, может сделать инверсные свойства эквивалентными. См.: [testHygiene_properties_inverse.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_inverse.sparql)
10. **Использование rdfs:comment (Use of rdfs:comment)** - rdfs:comment не следует использовать для аннотаций FIBO. См.: [testHygiene_annotations_comment.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_annotations_comment.sparql)
11. **Ссылка на owl:Thing (Reference to owl:Thing)** - Мы не должны делать явных ссылок на owl:Thing, так как они избыточны, за исключением ограничений someValuesFrom. См.: [testHygiene_triples_owlThing.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_triples_owlThing.sparql)
12. **Синонимы как классы (Synonyms as classes)** - Использование эквивалентов OWL может указывать на то, что различные синонимы моделируются как отдельные классы, чего следует избегать. См.: [testHygiene_equivalentClass.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_equivalentClass.sparql)
13. **Избегание циклов (Avoiding cycles)** - иерархии классов и свойств не должны содержать циклы. См.:
- [testHygiene_classes_subclassof_non-circular.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_classes_subclassof_non-circular.sparql)
- [testHygiene_properties_subproperty_non-circular.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_subproperty_non-circular.sparql)
14. **Неявное использование отношений "is" (Implicit use of “is” relationships)** - Различные виды отношений "is" должны быть представлены с помощью соответствующих логических конструкций, а не с помощью специальных свойств. См.: [testHygiene_properties_iri.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_iri.sparql)
15. **Disconnected resources** - Все классы должны быть корневыми в домене FND, LCC или FBC. См.: [testHygiene_classes_subclassof_root.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_classes_subclassof_root.sparql)
16. **Слияние различных концепций в одном классе (Merging different concepts in the same class)**  — классы не должны ссылаться на несколько концепций. См.: [testHygiene_classes_unique_concept.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_classes_unique_concept.sparql)
17. **Использование ограничений мощности "min 1" (Use of "min 1" cardinality restrictions)** - ограничений мощности "min 1" следует избегать из соображений производительности. См.: [testHygiene_performance_restrictions_min_1_use.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_restrictions_min_1_use.sparql)
18. **Устаревшие ресурсы не должны использоваться (Deprecated resources should not be used)** - Если ресурс owl:deprecated, то его не следует использовать повторно См.: [testHygiene_resources_deprecated.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_resources_deprecated.sparql)
19. **Избегать каламбуров (Avoid punning)** - Из-за спецификации OWL мы должны избегать каламбуров как в свойствах объекта, так и в свойствах данных См.:
- [testHygiene_properties_punning_chain.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_punning_chain.sparql)
- [testHygiene_properties_punning_disjoint.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_punning_disjoint.sparql)
- [testHygiene_properties_punning_equivalent.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_punning_equivalent.sparql)
- [testHygiene_properties_inverse.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_inverse.sparql)
- [testHygiene_properties_punning_subproperty.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_punning_subproperty.sparql)
- [testHygiene_properties_punning_declaration.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_properties_punning_declaration.sparql)
20. **Обнаружение лишних пробелов (Detect unintended blanks)** - Мы должны обнаружить возможные непреднамеренные пробелы в строковых значениях свойств-аннотаций. См.:
- [testHygiene_literals_leading_blank.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_literals_leading_blank.sparql)
- [testHygiene_literals_multiple_blank.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_literals_multiple_blank.sparql)
- [testHygiene_trailing_blanks.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_trailing_blanks.sparql)
21. **Обнаружение потенциальных узких мест производительности (Detect possible performance bottlenecks)** - Следует избегать конструкций OWL, которые увеличивают стоимость рассуждений (reasoning effort). Подробнее см.: https://github.com/stardog-union/pellet/blob/master/pellint/PELLINT-PATTERNS.txt
- [testHygiene_performance_allValuesFrom_equivalent.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_allValuesFrom_equivalent.sparql)
- [testHygiene_performance_cgi_with_equivalent.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_cgi_with_equivalent.sparql)
- [testHygiene_performance_cgi_with_subclassof.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_cgi_with_subclassof.sparql)
- [testHygiene_performance_complement_equivalent.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_complement_equivalent.sparql)
- [testHygiene_performance_high_max_restriction.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_high_max_restriction.sparql)
- [testHygiene_performance_high_min_restriction.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_high_min_restriction.sparql)
- [testHygiene_performance_left_subclass_and_equivalent.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_left_subclass_and_equivalent.sparql)
- [testHygiene_performance_multiple_different_individuals.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_multiple_different_individuals.sparql)
- [testHygiene_performance_multiple_disjuncts.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_multiple_disjuncts.sparql)
- [testHygiene_performance_thing_equivalent.sparql](https://github.com/edmcouncil/fibo/blob/master/etc/testing/hygiene_parameterized/testHygiene_performance_thing_equivalent.sparql)


## Кандидатские тесты на соответствие качеству

Мы ожидаем, что со временем мы будем выявлять все больше и больше критериев соответствия для обеспечения качества и будем обслуживать здесь backlog других вещей, которые находятся в поле интересов.
